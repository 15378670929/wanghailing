<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>vue归纳总结 | 王海灵的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="vue起步Vue (读音 &#x2F;vjuː&#x2F;，类似于 view) 是一套用于构建用户界面的渐进式框架。 安装本人一般用vue的时候会直接用vuecli一键搭建vue环境，在开始的时候会用vue的cdn进行vue的开发： 12345&amp;lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&amp;gt;&amp;lt;script src=&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue&#x2F;dist&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="vue归纳总结">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2019&#x2F;10&#x2F;18&#x2F;vue%E5%85%A8%E5%B1%80api%E8%AF%A6%E8%A7%A3&#x2F;index.html">
<meta property="og:site_name" content="王海灵的博客">
<meta property="og:description" content="vue起步Vue (读音 &#x2F;vjuː&#x2F;，类似于 view) 是一套用于构建用户界面的渐进式框架。 安装本人一般用vue的时候会直接用vuecli一键搭建vue环境，在开始的时候会用vue的cdn进行vue的开发： 12345&amp;lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&amp;gt;&amp;lt;script src=&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue&#x2F;dist&#x2F;">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdn.net&#x2F;20181002230846719?watermark&#x2F;2&#x2F;text&#x2F;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTc5NjYzMQ==&#x2F;font&#x2F;5a6L5L2T&#x2F;fontsize&#x2F;400&#x2F;fill&#x2F;I0JBQkFCMA==&#x2F;dissolve&#x2F;70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdn.net&#x2F;20181002231253873?watermark&#x2F;2&#x2F;text&#x2F;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTc5NjYzMQ==&#x2F;font&#x2F;5a6L5L2T&#x2F;fontsize&#x2F;400&#x2F;fill&#x2F;I0JBQkFCMA==&#x2F;dissolve&#x2F;70">
<meta property="og:image" content="https:&#x2F;&#x2F;img-blog.csdn.net&#x2F;20181002231233104?watermark&#x2F;2&#x2F;text&#x2F;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTc5NjYzMQ==&#x2F;font&#x2F;5a6L5L2T&#x2F;fontsize&#x2F;400&#x2F;fill&#x2F;I0JBQkFCMA==&#x2F;dissolve&#x2F;70">
<meta property="og:image" content="https:&#x2F;&#x2F;segmentfault.com&#x2F;img&#x2F;bVbs6UE?w=1362&amp;h=937">
<meta property="og:image" content="https:&#x2F;&#x2F;image-static.segmentfault.com&#x2F;221&#x2F;428&#x2F;2214280570-5ce9013a00014_articlex">
<meta property="og:image" content="https:&#x2F;&#x2F;image-static.segmentfault.com&#x2F;211&#x2F;599&#x2F;2115996450-5ce9089883daa_articlex">
<meta property="og:updated_time" content="2019-10-18T07:30:04.928Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;img-blog.csdn.net&#x2F;20181002230846719?watermark&#x2F;2&#x2F;text&#x2F;aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTc5NjYzMQ==&#x2F;font&#x2F;5a6L5L2T&#x2F;fontsize&#x2F;400&#x2F;fill&#x2F;I0JBQkFCMA==&#x2F;dissolve&#x2F;70">
  
    <link rel="alternate" href="/wanghailing.github.io/atom.xml" title="王海灵的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/wanghailing.github.io/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/wanghailing.github.io/" id="logo">王海灵的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/wanghailing.github.io/">Home</a>
        
          <a class="main-nav-link" href="/wanghailing.github.io/archives">Archives</a>
        
          <a class="main-nav-link" href="/wanghailing.github.io/board">Board</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/wanghailing.github.io/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-vue全局api详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/wanghailing.github.io/2019/10/18/vue%E5%85%A8%E5%B1%80api%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2019-10-18T07:29:05.804Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      vue归纳总结
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="vue起步"><a href="#vue起步" class="headerlink" title="vue起步"></a>vue起步</h2><p>Vue (读音 /vjuː/，类似于 <strong>view</strong>) 是一套用于构建用户界面的<strong>渐进式框架</strong>。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>本人一般用vue的时候会直接用vuecli一键搭建vue环境，在开始的时候会用vue的cdn进行vue的开发：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="声明式渲染"><a href="#声明式渲染" class="headerlink" title="声明式渲染"></a>声明式渲染</h3><p>使用模板语法来声明式地渲染DOM系统</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  &#123;&#123; message &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">var app = new Vue(&#123;</span><br><span class="line">  el: '#app',</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: 'Hello Vue!'</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这就是vue开发的最基本的语法，接下来我将会针对vue的api来对vue进行讲解。</p>
<h2 id="全局api"><a href="#全局api" class="headerlink" title="全局api"></a>全局api</h2><h3 id="vue-extend-options"><a href="#vue-extend-options" class="headerlink" title="vue.extend(options)"></a>vue.extend(options)</h3><p>使用基础vue构造器，创建一个子类，参数是一个包含组件选项的对象。</p>
<p><code>data</code> 选项是特例，需要注意 - 在 <code>Vue.extend()</code> 中它必须是函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mount-point"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// 创建构造器</span><br><span class="line">var Profile = Vue.extend(&#123;</span><br><span class="line">  template: '<span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125; aka &#123;&#123;alias&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span>',</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      firstName: 'Walter',</span><br><span class="line">      lastName: 'White',</span><br><span class="line">      alias: 'Heisenberg'</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// 创建 Profile 实例，并挂载到一个元素上。</span><br><span class="line">new Profile().$mount('#mount-point')</span><br><span class="line"></span><br><span class="line">// 结果如下：</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Walter White aka Heisenberg<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 进阶用法 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mount-point"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">todo</span> <span class="attr">:tododata</span>=<span class="string">"list"</span>&gt;</span><span class="tag">&lt;/<span class="name">todo</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 构建一个子组件</span></span></span><br><span class="line"><span class="actionscript">	<span class="keyword">var</span> todo1 = Vue.extend(&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;text&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span>`,</span></span></span><br><span class="line">        props: &#123;</span><br><span class="line">            text: &#123;</span><br><span class="line"><span class="javascript">                type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">default</span>: <span class="string">''</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="comment">// 构建一个父组件</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> todo2 = Vue.extend(&#123;</span></span><br><span class="line">        template: `</span><br><span class="line"><span class="handlebars"><span class="xml">			<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">    			&lt;todo1 </span><br><span class="line"><span class="actionscript">					v-<span class="keyword">for</span>=<span class="string">'(item,index) in tododata'</span></span></span><br><span class="line"><span class="actionscript">					v-text=<span class="string">'item.text'</span></span></span><br><span class="line"><span class="javascript">				&gt;<span class="xml"><span class="tag">&lt;/<span class="name">todo1</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    		<span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span><br><span class="line">        props: &#123;</span><br><span class="line">            tododata: &#123;</span><br><span class="line"><span class="javascript">                type: <span class="built_in">Array</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">default</span>: []</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            todo1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="comment">// 全局注册</span></span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'todo'</span>, todo2);</span></span><br><span class="line">    </span><br><span class="line"><span class="actionscript">    <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line">        data: &#123;</span><br><span class="line">            list: [</span><br><span class="line"><span class="actionscript">                &#123; id: <span class="number">0</span>, text: <span class="string">'蔬菜'</span> &#125;,</span></span><br><span class="line"><span class="actionscript">                &#123; id: <span class="number">1</span>, text: <span class="string">'奶酪'</span> &#125;,</span></span><br><span class="line"><span class="actionscript">                &#123; id: <span class="number">2</span>, text: <span class="string">'随便其它什么人吃的东西'</span> &#125;</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">    &#125;).$mount(<span class="string">'#mount-point'</span>)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="vue-nextTick-callback-context"><a href="#vue-nextTick-callback-context" class="headerlink" title="vue.nextTick([callback,context])"></a>vue.nextTick([callback,context])</h3><p>在下次DOM更新循环结束后延迟执行回调函数，异步更新队列，可以在这个函数中做一些数据请求，或数据格式化的操作，是一个比较实用又简单的api。</p>
<h3 id="vue-set-target-index-propertyName-value"><a href="#vue-set-target-index-propertyName-value" class="headerlink" title="vue.set(target, index/propertyName, value)"></a>vue.set(target, index/propertyName, value)</h3><p>向响应式对象中添加一个属性，并确保这个新属性同样是响应式的，且触发视图更新。它必须用于向响应式对象上添加新属性，因为 Vue 无法探测普通的新增属性 (比如 <code>this.myObject.newProperty = &#39;hi&#39;</code>)</p>
<p>vue 不允许动态添加根级响应式属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    student: &#123;</span><br><span class="line">      name: <span class="string">''</span>,</span><br><span class="line">      sex: <span class="string">''</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 错误示例</span></span><br><span class="line">mounted () &#123; <span class="comment">// ——钩子函数，实例挂载之后</span></span><br><span class="line">  <span class="keyword">this</span>.student.age = <span class="number">24</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 正确写法</span></span><br><span class="line">mounted () &#123;</span><br><span class="line">  <span class="keyword">this</span>.$<span class="keyword">set</span>(this.student,"age", 24)</span><br><span class="line">&#125;</span><br><span class="line">// 不允许的添加根级响应式属性 XXXX</span><br><span class="line">Vue.<span class="keyword">set</span>(app.data, 'b', 2)</span><br><span class="line"></span><br><span class="line">// VUe.<span class="keyword">set</span>()和this.$<span class="keyword">set</span>(): Vue.<span class="keyword">set</span>()和this.$<span class="keyword">set</span>()这两个api的实现原理基本一模一样，都是使用了<span class="keyword">set</span>函数。<span class="keyword">set</span>函数是从 ../observer/index 文件中导出的，区别在于Vue.<span class="keyword">set</span>()是将<span class="keyword">set</span>函数绑定在Vue构造函数上，this.$<span class="keyword">set</span>()是将<span class="keyword">set</span>函数绑定在Vue原型上。</span><br></pre></td></tr></table></figure>

<h3 id="Vue-delete-target-propertyName-index"><a href="#Vue-delete-target-propertyName-index" class="headerlink" title="Vue.delete( target, propertyName/index )"></a>Vue.delete( target, propertyName/index )</h3><p>删除对象的属性，此方法用的较少，和Vue.set()有异曲同工之妙。</p>
<h3 id="Vue-directive-id-definition"><a href="#Vue-directive-id-definition" class="headerlink" title="Vue.directive( id, [definition] )"></a>Vue.directive( id, [definition] )</h3><p>注册全局指令，也是自定义指令：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;span v-hello:foo.a.b=<span class="string">"color3"</span>&gt;&#123;&#123;message&#125;&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button @click="add"&gt; 点击开始加1&lt;/</span>button&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    Vue.directive("hello",function(el,binding,vnode)&#123;</span></span><br><span class="line"><span class="regexp">        el.style["color"]= binding.value;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">    var app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:"#app",</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            message:10,</span></span><br><span class="line"><span class="regexp">            color3:"red"</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        methods:&#123;</span></span><br><span class="line"><span class="regexp">            add:function()&#123;</span></span><br><span class="line"><span class="regexp">                this.message++;</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 自定义指令有5个生命周期(也叫作钩子函数)分别是bind ,inserted,update,componentUpdate,unbind</span></span><br><span class="line"><span class="regexp">bind 只调用一次，指令第一次绑定到元素时候调用，用这个钩子可以定义一个绑定时执行一次的初始化动作。</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">inserted:被绑定的元素插入父节点的时候调用(父节点存在即可调用，不必存在document中)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">update: 被绑定与元素所在模板更新时调用，而且无论绑定值是否有变化，通过比较更新前后的绑定值，忽略不必要的模板更新</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">componentUpdate :被绑定的元素所在模板完成一次更新更新周期的时候调用</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">unbind: 只调用一次，指令月元素解绑的时候调用</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 要是想解绑这个vue可以使用</span></span><br><span class="line"><span class="regexp">function unbind()&#123;</span></span><br><span class="line"><span class="regexp">  app.$destroy()</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ demo2</span></span><br><span class="line"><span class="regexp">   &lt;div id="app"&gt;</span></span><br><span class="line"><span class="regexp">       &lt;span v-hello="color3"&gt;&#123;&#123;message&#125;&#125;&lt;/</span>span&gt;</span><br><span class="line">       &lt;button @click=<span class="string">"add"</span>&gt; 点击开始加<span class="number">1</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">       &lt;button onclick="jiebang()"&gt;解绑&lt;/</span>button&gt;</span><br><span class="line">   &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    function jiebang()&#123;</span></span><br><span class="line"><span class="regexp">        app.$destroy();</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">    Vue.directive("hello",&#123;</span></span><br><span class="line"><span class="regexp">        bind:function(el,bingind,vnode)&#123;</span></span><br><span class="line"><span class="regexp">            el.style["color"] = bingind.value;</span></span><br><span class="line"><span class="regexp">            console.log("1-bind");</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        inserted:function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log("2-insert");</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        update:function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log("3-update");</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        componentUpdated:function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log('4 - componentUpdated');</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        unbind:function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log('5 - unbind');</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">    var app = new Vue(&#123;</span></span><br><span class="line"><span class="regexp">        el:"#app",</span></span><br><span class="line"><span class="regexp">        data:&#123;</span></span><br><span class="line"><span class="regexp">            message:10,</span></span><br><span class="line"><span class="regexp">            color3:"red"</span></span><br><span class="line"><span class="regexp">        &#125;,</span></span><br><span class="line"><span class="regexp">        methods:&#123;</span></span><br><span class="line"><span class="regexp">            add:function()&#123;</span></span><br><span class="line"><span class="regexp">                this.message++;</span></span><br><span class="line"><span class="regexp">            &#125;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 动态指令参数</span></span><br><span class="line"><span class="comment">// 例如，在 v-mydirective:[argument]="value" 中，argument 参数可以根据组件实例数据进行更新！</span></span><br><span class="line">&lt;div id=<span class="string">"dynamicexample"</span>&gt;</span><br><span class="line">  &lt;h3&gt;Scroll down inside <span class="keyword">this</span> section ↓&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">  &lt;p v-pin:[direction]="200"&gt;I am pinned onto the page at 200px to the left.&lt;/</span>p&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">Vue.directive('pin', &#123;</span></span><br><span class="line"><span class="regexp">  bind: function (el, binding, vnode) &#123;</span></span><br><span class="line"><span class="regexp">    el.style.position = 'fixed'</span></span><br><span class="line"><span class="regexp">    var s = (binding.arg == 'left' ? 'left' : 'top')</span></span><br><span class="line"><span class="regexp">    el.style[s] = binding.value + 'px'</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">new Vue(&#123;</span></span><br><span class="line"><span class="regexp">  el: '#dynamicexample',</span></span><br><span class="line"><span class="regexp">  data: function () &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      direction: 'left'</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br></pre></td></tr></table></figure>

<h3 id="Vue-filter-id-definition"><a href="#Vue-filter-id-definition" class="headerlink" title="Vue.filter(id, [definition])"></a>Vue.filter(id, [definition])</h3><p>注册或获取全局过滤器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局过滤器</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line">Vue.filter(<span class="string">'formatTime'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(val);</span><br><span class="line">  <span class="keyword">const</span> hour = date.getHours();</span><br><span class="line">  <span class="keyword">const</span> minutes = date.getMinutes();</span><br><span class="line">  <span class="keyword">const</span> seconds = date.getSeconds();</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;hour&#125;</span> : <span class="subst">$&#123;minutes&#125;</span> : <span class="subst">$&#123;seconds&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 局部过滤器</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name: <span class="string">'FilterDemo'</span>,</span><br><span class="line">    <span class="comment">/* 局部过滤器 */</span></span><br><span class="line">    filters: &#123;</span><br><span class="line">      <span class="comment">/* 格式化时间戳 */</span></span><br><span class="line">      formatDate (val) &#123;</span><br><span class="line">        <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(val);</span><br><span class="line">        <span class="keyword">const</span> year = date.getFullYear();</span><br><span class="line">        <span class="keyword">const</span> month = date.getMonth() &gt; <span class="number">9</span> ? date.getMonth() + <span class="number">1</span> : <span class="string">`0<span class="subst">$&#123;date.getMonth() + <span class="number">1</span>&#125;</span>`</span>;</span><br><span class="line">        <span class="keyword">const</span> day = date.getDate() &gt; <span class="number">9</span> ? date.getDate() + <span class="number">1</span> : <span class="string">`0<span class="subst">$&#123;date.getDate() + <span class="number">1</span>&#125;</span>`</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;year&#125;</span>-<span class="subst">$&#123;month&#125;</span>-<span class="subst">$&#123;day&#125;</span>`</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(val);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    data () &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 过滤器的使用</span></span><br><span class="line">&lt;b&gt;&#123;&#123; <span class="number">1533527037000</span> | formatTime &#125;&#125;&lt;<span class="regexp">/b&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Vue-component-id-definition"><a href="#Vue-component-id-definition" class="headerlink" title="Vue.component(id,[definition])"></a>Vue.component(id,[definition])</h3><p>注册或获取全局组件。注册还会自动使用给定的<code>id</code>设置组件的名称</p>
<p>注意：</p>
<p>1.data 数据属性：写函数;</p>
<p>2.template 模板：写组件的内容（元素和触发的事件）</p>
<hr>
<p> <img src="https://img-blog.csdn.net/20181002230846719?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTc5NjYzMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p><img src="https://img-blog.csdn.net/20181002231253873?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTc5NjYzMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<p><img src="https://img-blog.csdn.net/20181002231233104?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTc5NjYzMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<h3 id="Vue-use-plugin"><a href="#Vue-use-plugin" class="headerlink" title="Vue.use(plugin)"></a>Vue.use(plugin)</h3><p>安装 Vue.js 插件。如果插件是一个对象，必须提供 <code>install</code> 方法。如果插件是一个函数，它会被作为 install 方法。install 方法调用时，会将 Vue 作为参数传入。</p>
<p>该方法需要在调用 <code>new Vue()</code> 之前被调用。</p>
<p>当 install 方法被同一个插件多次调用，插件将只会被安装一次。</p>
<h3 id="Vue-mixin-mixin"><a href="#Vue-mixin-mixin" class="headerlink" title="Vue.mixin(mixin)"></a>Vue.mixin(mixin)</h3><p>mixin里面可以使用vue组件的所有功能</p>
<p>数据对象在内部会进行浅合并 (一层属性深度)，在和组件的数据发生冲突时以组件数据优先。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> house = &#123;   <span class="comment">// 我们戈壁老王的房子（我们定义的mixin）</span></span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; </span><br><span class="line">      Kitchen: <span class="string">'厨房'</span>,</span><br><span class="line">      Tv: <span class="string">'电视机'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  filters: &#123;</span><br><span class="line">    cook: <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (!name) <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">      <span class="keyword">return</span> name + <span class="string">"再用厨房做饭……"</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> name + <span class="string">'看电视……'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">"what?"</span>); &#125;, <span class="number">3000</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"???"</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    runing: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log( <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.laoWang &#125;</span>跑步`</span>)       <span class="comment">// 不会被执行！！</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'app'</span>,</span><br><span class="line">  mixins: [house],</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; </span><br><span class="line">      smallMing: <span class="string">'小明'</span>,</span><br><span class="line">      bigMing: <span class="string">'大明'</span>,</span><br><span class="line">      laoWang: <span class="string">'老王'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.Kitchen); <span class="comment">// 厨房</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.Tv);      <span class="comment">// 电视机</span></span><br><span class="line">    <span class="keyword">this</span>.runing()              <span class="comment">// 老王跑步呢，别打扰他。</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    runing() &#123;   </span><br><span class="line">      <span class="built_in">console</span>.log( <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.laoWang &#125;</span>跑步呢，别打扰他。`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue-compile-template"><a href="#Vue-compile-template" class="headerlink" title="Vue.compile(template)"></a>Vue.compile(template)</h3><p>在 render 函数中编译模板字符串。<strong>只在独立构建时有效</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = Vue.compile(<span class="string">'&lt;div&gt;&lt;span&gt;&#123;&#123; msg &#125;&#125;&lt;/span&gt;&lt;/div&gt;'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    msg: <span class="string">'hello'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  render: res.render,</span><br><span class="line">  staticRenderFns: res.staticRenderFns</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Vue-observable-object"><a href="#Vue-observable-object" class="headerlink" title="Vue,observable(object)"></a>Vue,observable(object)</h3><p>随着组件的细化，就会遇到多组件状态共享的情况， Vuex当然可以解决这类问题，不过就像 Vuex官方文档所说的，如果应用不够大，为避免代码繁琐冗余，最好不要使用它，vue.js 2.6 新增加的 Observable API ，通过使用这个 api 我们可以应对一些简单的跨组件数据状态共享的情况。</p>
<p>让一个对象可响应。Vue 内部会用它来处理 <code>data</code> 函数返回的对象。</p>
<p>返回的对象可以直接用于<code>渲染函数</code>和<code>计算属性</code>内，并且会在发生改变时触发相应的更新。也可以作为最小化的跨组件状态存储器，用于简单的场景：</p>
<p>搭建个简单脚手架，在项目src目录下建立store.js，在组件里使用提供的 store和 mutation方法，同理其它组件也可以这样使用，从而实现多个组件共享数据状态。</p>
<p><strong>首先创建一个 store.js，包含一个 store和一个 mutations，分别用来指向数据和处理方法。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//store.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> store =Vue.observable(&#123;<span class="attr">count</span>:<span class="number">0</span>,<span class="attr">name</span>:<span class="string">'李四'</span>&#125;);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> mutations=&#123;</span><br><span class="line">    setCount(count)&#123;</span><br><span class="line">        store.count=count;</span><br><span class="line">    &#125;,</span><br><span class="line">    changeName(name)&#123;</span><br><span class="line">        store.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>然后在组件Home.vue中引用，在组件里使用数据和方法：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//Home.vue</span><br><span class="line"> <span class="tag">&lt;<span class="name">template</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span>  </span><br><span class="line">            <span class="tag">&lt;<span class="name">home-header</span>&gt;</span><span class="tag">&lt;/<span class="name">home-header</span>&gt;</span>  </span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"setCount(count+1)"</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"setCount(count-1)"</span>&gt;</span>-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">div</span>&gt;</span>store中count：&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"changeName(name1)"</span>&gt;</span>父页面修改name<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span>store中name：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/detail"</span> &gt;</span><span class="tag">&lt;<span class="name">h5</span>&gt;</span>跳转到详情页<span class="tag">&lt;/<span class="name">h5</span>&gt;</span>   <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="javascript">        <span class="keyword">import</span> HomeHeader <span class="keyword">from</span> <span class="string">'../components/HomeHeader'</span>   </span></span><br><span class="line"><span class="javascript">        <span class="keyword">import</span> &#123;store,mutations&#125; <span class="keyword">from</span> <span class="string">'@/store'</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">export</span> <span class="keyword">default</span> &#123;  </span></span><br><span class="line">            data () &#123;  </span><br><span class="line"><span class="actionscript">                <span class="keyword">return</span> &#123;  </span></span><br><span class="line"><span class="actionscript">                    name1:<span class="string">'主页的name'</span></span></span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;,  </span><br><span class="line">            components: &#123;  </span><br><span class="line">                HomeHeader </span><br><span class="line">            &#125;,  </span><br><span class="line">            computed:&#123;</span><br><span class="line">                count()&#123;</span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span> store.count</span></span><br><span class="line">                &#125;,</span><br><span class="line">                name()&#123;</span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span> store.name</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                setCount:mutations.setCount,</span><br><span class="line">                changeName:mutations.changeName    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://segmentfault.com/img/bVbs6UE?w=1362&h=937" alt="clipboard.png"></p>
<p><strong>再定义一个子页面观察数据：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//Detail.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"detail"</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">detail-header</span>&gt;</span><span class="tag">&lt;/<span class="name">detail-header</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"changeName(name2)"</span>&gt;</span>子页面修改name<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>store中name：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> DetailHeader <span class="keyword">from</span> <span class="string">'../components/DetailHeader'</span>  </span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> &#123;store,mutations&#125; <span class="keyword">from</span> <span class="string">'@/store'</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;  </span></span><br><span class="line">        components: &#123;  </span><br><span class="line">            DetailHeader  </span><br><span class="line">        &#125;  ,</span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">                name2:<span class="string">'子页的name'</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        computed:&#123;</span><br><span class="line">            name()&#123;</span><br><span class="line"><span class="actionscript">                <span class="keyword">return</span> store.name</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            changeName:mutations.changeName</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;  </span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>子页面显示如图：<br><img src="https://image-static.segmentfault.com/221/428/2214280570-5ce9013a00014_articlex" alt="clipboard.png"></p>
<p>我们简单点击下按钮，改变下store中的数据，效果如下：<br><img src="https://image-static.segmentfault.com/211/599/2115996450-5ce9089883daa_articlex" alt="图片描述"></p>
<p>最后补充一点，就是如果当前项目vue版本低于2.6，要使用Vue.observable()，就必须要升级，升级 vue 和 vue-template-compiler，两者的版本需要同步，如果不同步项目会报错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//升级vue版本</span></span><br><span class="line">npm update vue -S 或者 yarn add vue -S</span><br><span class="line">npm update vue-template-compiler -D 或者 yarn add vue-template-compiler -D</span><br></pre></td></tr></table></figure>

<h3 id="Vue-version"><a href="#Vue-version" class="headerlink" title="Vue.version"></a>Vue.version</h3><p>提供字符串形式的 Vue 安装版本号。这对社区的插件和组件来说非常有用，你可以根据不同的版本号采取不同的策略。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/vue%E5%85%A8%E5%B1%80api%E8%AF%A6%E8%A7%A3/" data-id="ck2ye4nqo0005owvudg1mgeb2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/wanghailing.github.io/2019/10/18/vue%E5%9F%BA%E7%A1%80%E5%A1%AB%E5%9D%91/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          vue基础填坑
        
      </div>
    </a>
  
  
    <a href="/wanghailing.github.io/2019/10/16/pythonstudy/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Python基础</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/wanghailing.github.io/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/wanghailing.github.io/archives/2019/10/">十月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/wanghailing.github.io/2019/11/06/redux/">redux</a>
          </li>
        
          <li>
            <a href="/wanghailing.github.io/2019/11/04/react-router-dom/">react-router-dom</a>
          </li>
        
          <li>
            <a href="/wanghailing.github.io/2019/10/24/react%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%EF%BC%88%E4%BA%8C%EF%BC%89/">react学习之路（二）</a>
          </li>
        
          <li>
            <a href="/wanghailing.github.io/2019/10/23/react%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%EF%BC%88%E4%B8%80%EF%BC%89/">react学习之路（一）</a>
          </li>
        
          <li>
            <a href="/wanghailing.github.io/2019/10/18/vue%E5%9F%BA%E7%A1%80%E5%A1%AB%E5%9D%91/">vue基础填坑</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">你要设的名称</h3>
        <div class="widget">
            测试内容
        </div>
    </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Fred
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/wanghailing.github.io/" class="mobile-nav-link">Home</a>
  
    <a href="/wanghailing.github.io/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/wanghailing.github.io/board" class="mobile-nav-link">Board</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/wanghailing.github.io/fancybox/jquery.fancybox.css">
  <script src="/wanghailing.github.io/fancybox/jquery.fancybox.pack.js"></script>


<script src="/wanghailing.github.io/js/script.js"></script>



  </div>
</body>
</html>